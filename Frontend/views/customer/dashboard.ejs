
<!doctype html>
<!--[if lt IE 7]>
<html class="no-js lt-ie9 lt-ie8 lt-ie7" lang=""> <![endif]-->
<!--[if IE 7]>
<html class="no-js lt-ie9 lt-ie8" lang=""> <![endif]-->
<!--[if IE 8]>
<html class="no-js lt-ie9" lang=""> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="">
<!--<![endif]-->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Dashboard - Third Wheel </title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- CSRF Token -->
    <meta name="csrf-token" content="Yeszlw3MyEqwctUKz6fHVtRmweyCXvOHfyjK7GZ7">
            <link rel="stylesheet" type="text/css" href="https://thirdwheel.com.np/assets/twn/frontend/css/bootstrap.min.css">
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css">
        <link href="https://fonts.googleapis.com/css?family=Oswald|Titillium+Web" rel="stylesheet">
        <link rel="stylesheet" type="text/css" href="https://thirdwheel.com.np/assets/twn/customer_dashboard/css/style.css">
        <link rel="stylesheet" type="text/css" href="https://thirdwheel.com.np/assets/twn/customer_dashboard/css/dashboard.css">
        <script type="text/javascript" src="https://thirdwheel.com.np/assets/twn/frontend/js/jquery-3.2.1.min.js"></script>
            </head>
<body>
        <% include ../partials/loggedInMenu %>  

<div class="notificaitionDetail" id="notificationDetails">
</div>

    <div class="clear"></div>

    <% include ../partials/sidebar.ejs %>  
                <div class="col-lg-10 ritghPosData">
                    <div class="rightDashData">
                                                                                                                        <h5>My Dashboard</h5>
                        
                        <p>Choose a service you want</p>
                        <div class="row bigScreen">
                            <div class="col-lg-6">
                                <div class="servLEFtIcon">
                                    <div class="row">
                                        <div class="col-lg-6">
                                            <div class="serviceDashBox">
                                                <a href="http://localhost:3001/customer/choose_bike"><img
                                                            src="https://thirdwheel.com.np/assets/twn/frontend/services/servicing.png"></a>
                                                <p>Servicing</p>
                                            </div>
                                        </div>
                                        <div class="col-lg-6">
                                            <div class="serviceDashBox">
                                                <a href="http://localhost:3001/customer/booking"><img
                                                            src="https://thirdwheel.com.np/assets/twn/frontend/services/emergency.png"></a>
                                                <p>My Bookings</p>
                                            </div>
                                        </div>
                                    </div>
                                  
                                </div>
                            </div>
                            <div class="col-lg-6">
                                
                                <script>
                                    $(document).ready(function () {
                                        $("select[name='my_bikes']").change(function () {
                                            var bikeId = $("select[name='my_bikes']").val();
                                            var token = $("input[name='_token']").val();
                                            $.ajax({
                                                url: 'https://thirdwheel.com.np/get-bike-details/',
                                                method: 'GET',
                                                data: {bikeId: bikeId, _token: token},
                                                success: function (data) {
                                                    $("#timeReadDash").html(data.data);
                                                }
                                            });

                                        });
                                    });

                                </script>

                                
                                                                <div class="timeReadDash" id="timeReadDash">
                                    <script>
                                        window.onload = function () {
                                            //      Servicing Chart
                                            var chart = new CanvasJS.Chart("servicingChartContainer", {
                                                animationEnabled: true,
                                                title: {
                                                    text: "Regular Servicing",
                                                    horizontalAlign: "center",
                                                    fontFamily: "Titillium Web",
                                                    fontSize: 18,
                                                },
                                                data: [{
                                                    type: "doughnut",
                                                    startAngle: 365,
                                                    // innerRadius: 53,
                                                    indexLabelFontSize: 17,
                                                    indexLabel: "{label} - {y}",
                                                    toolTipContent: "<b>{label}:</b> {y} (#percent%)",
                                                    dataPoints: [
                                                        {
                                                            y: '0',
                                                            label: "Days Covered",
                                                            color: "orange"
                                                        },
                                                        {
                                                            y: '90',
                                                            label: "Days Remaining",
                                                            color: "green"
                                                        }
                                                    ]
                                                }]
                                            });
                                            chart.render();
                                            //      Blue Book Chart
                                            var chart2 = new CanvasJS.Chart("billBookChartContainer", {
                                                animationEnabled: true,
                                                title: {
                                                    text: "Blue Book Renew",
                                                    horizontalAlign: "center",
                                                    fontFamily: "Titillium Web",
                                                    fontSize: 18,
                                                },
                                                data: [{
                                                    type: "doughnut",
                                                    startAngle: 365,
                                                    // innerRadius: 53,
                                                    indexLabelFontSize: 17,
                                                    indexLabel: "{label} - {y} ",
                                                    toolTipContent: "<b>{label}:</b> {y}",
                                                    dataPoints: [
                                                        {
                                                            y: '0',
                                                            label: "Days Covered",
                                                            color: "orange"
                                                        },
                                                        {
                                                            y: '365',
                                                            label: "Days Remaining",
                                                            color: "green"
                                                        }
                                                    ]
                                                }]
                                            });
                                            chart2.render();


                                        }
                                    </script>
                                    <div id="servicingChartContainer" style="height: 210px; width: 100%;"></div>
                                    <span class="serviceLogo" style="color: #000;"><p>90 <br> Days<br></p></span>
                                    <div id="billBookChartContainer" style="height: 210px; width: 100%;"></div>
                                    <span class="serviceLogo2"
                                          style="color: #000;"><p>365 <br> Days<br></p></span>
                                    <script src="https://canvasjs.com/assets/script/canvasjs.min.js"></script>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>


    
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js"
            integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"
            integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy"
            crossorigin="anonymous"></script>

    <script src="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.18.1/moment.min.js"></script>
    <script src="https://thirdwheel.com.np/assets/twn/js/smooth-scroll.js"></script>
    <script src="https://thirdwheel.com.np/assets/twn/js/scripts.js"></script>
    <script src="/assets/twn/js/logout.js"></script>
    
 
    <script>
        // $('div.alert').delay(4000).slideUp(100);
        $('div.alert').slideDown('slow').delay(1500).slideUp('slow');
    </script>
   <script>
        var y= localStorage.getItem('user');
      
       let base_url = 'http://localhost:3000/';
       $.ajax({
           type: 'GET',
           url: base_url + 'users/'+ y,
           success: function (user) {
              
       
                   document.getElementById("profile_image").src = base_url+'uploads/'+ user.image;
                   document.getElementById("dashboard_image").src = base_url+'uploads/'+ user.image;
                   document.getElementById("dash_name").innerHTML=user.fullName;
              
       
       
       
       
           
           },
           error: function () {
            //    alert("Fill all the form fields!");
           }
       });
       
       function getCookie(name) {
           var nameEQ = name + "=";
           var ca = document.cookie.split(';');
           for(var i=0;i < ca.length;i++) {
               var c = ca[i];
               while (c.charAt(0)==' ') c = c.substring(1,c.length);
               if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length,c.length);
           }
           return null;
       }
       
       
       </script>



</body>
</html>